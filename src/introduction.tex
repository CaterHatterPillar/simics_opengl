% Introduction
\section{Introduction}
\label{sec:introduction}
Virtual platforms are becoming an important tool in the software industry in order to provide cost-effective time-to-market gains and meet the ever-shortening product life-cycles~\masccite{journals:magnusson:2002, journals:yi:2006, publications:leupers:2010, publications:aarno:2014}.
Virtual platforms deliver these time-to-market benefits by enabling pre-silicon development~\masccite[p.~52]{journals:magnusson:2002, publications:aarno:2014} and by providing tools such as deterministic execution, checkpointing, and reverse execution~\masccite{publications:aarno:2014, journals:aarno:2013}.
These features are useful for debugging and testing a diverse range of software, from firmware to end-user applications~\masccite[p.~25]{publications:leupers:2010}.

There are several techniques to provide fast and functional virtual platforms that are running CPU workloads.
Typical methods include interpretation~\masccite[p.~35]{journals:smith:2005, inproceedings:magnusson:1998}, just-in-time compilation~\masccite[p.~24,~25]{journals:aarno:2013, inproceedings:magnusson:1998}, and hardware-assisted virtualization~\masccite[p.~24,~25]{journals:aarno:2013, publications:leupers:2010}.
Virtual platforms using these techniques can typically achieve a simulation performance in the range of $10$-$1000$ million instructions per second~\masccite[p.~24,~25]{journals:aarno:2013}.

The GPU is a vital part in delivering good user experiences on many devices, ranging from wearable, hand held, and portable units, to desktop computers.
The widespread use of GPUs and the increasing complexity of these electronic systems extend the virtualization needs of such devices.
However, due to large architectural differences, delegating GPU workloads to CPUs may yield poor performance.

Instead, by neglecting some hardware compatibility, one may circumvent the virtual machine and delegate GPU workloads to the GPU of the simulation host.
This way, host hardware can be utilized in a process known as "Paravirtualization"~\masccite[p.~1]{inproceedings:youseff:2006}.
Paravirtualization has been used to accelerate graphics in the past; most notably, Lagar-Cavilla et al. accelerate OpenGL~$1.5$ up to two orders of magnitude for WMware~Workstation and Xen VMMs~\masccite{inproceedings:lagarcavilla:2007}.
To relieve communication bottlenecks, Lagar-Cavilla et al. suggests using a shared memory model for target-to-host communications~\masccite{inproceedings:lagarcavilla:2007}.

This paper presents the acceleration of OpenGL~ES~$2.0$ in the Simics full-system simulator, using magic instructions to share VM memory directly from a simulated RAM image.
The implementation is evaluated using performance benchmarks stressing important attributes of the devised solution, and subsequently compared to software rasterization on the simulated platform.
Furthermore, the study identifies performance bottlenecks that may obstruct paravirtualized real-time graphics.
The results presented in this paper show performance improvements of up to $34$ times compared to software rasterized counterparts.
